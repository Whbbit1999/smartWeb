"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Scroll=function(){function t(){_classCallCheck(this,t),this.nav=$("nav"),this.a=$("nav div a"),this.span=$("nav div span"),this.colorBtn=$(".color-select button"),this.capacitySelectBtn=$(".capacity-select button"),this.serviceBth=$(".service .button"),this.buyBtn=$(".buy-btn"),this.addCartBtn=$(".add-cart"),this.buySuccess=$(".buy-success"),this.init(),this.buy()}return _createClass(t,[{key:"buy",value:function(){var t=this;this.addCartBtn.click(function(){t.buySuccess.css({display:"block"}),setTimeout(function(){t.buySuccess.css({display:"none"})},2e3),t.addCart()}),this.buyBtn.click(function(){t.buySuccess.css({display:"block"}),setTimeout(function(){t.buySuccess.css({display:"none"}),$(location).delay().attr("href","../pages/cart.html")},2e3)})}},{key:"addCart",value:function(){var t=this.addCartBtn.parent().parent().prev().last().children().last().children().last().attr("data-p-id"),e=this.addCartBtn.parent().parent().prev().last().children().last().children().first().children().first().html(),n=this.addCartBtn.parent().parent().prev().last().children().last().children().first().children().last().html(),a=this.addCartBtn.parent().parent().prev().last().children().last().children().last().html();console.log(t,e,n,a);var s=cover(localStorage.getItem("wh-cart")?localStorage.getItem("wh-cart"):localStorage.getItem(""));t in s?s[t].num++:s[t]={name:e,price:n,tips:a,num:1},localStorage.setItem("wh-cart",JSON.stringify(s))}},{key:"init",value:function(){var t=this;jQuery(window).scroll(function(){80<t.nav.offset().top?t.nav.show(function(){t.nav.css("height","75px"),t.a.css("fontSize","16px"),t.span.css({display:"inline-block",marginRight:"100px"})}):t.nav.show("slow",function(){t.nav.css("height","40px"),t.a.css("fontSize","10px"),t.span.css("display","none")})}),this.colorBtn.click(function(){}),this.capacitySelectBtn.click(function(){}),this.serviceBth.click(function(){})}}]),t}();function cover(t){return t?JSON.parse(t):{}}new Scroll;