"use strict";function _classCallCheck(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,n){for(var e=0;e<n.length;e++){var s=n[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function _createClass(r,n,e){return n&&_defineProperties(r.prototype,n),e&&_defineProperties(r,e),r}var Registered=function(){function r(){_classCallCheck(this,r),this.phoneNum=$("#phoneNum"),this.pwd=$("#pwd"),this.confirmPwd=$("#confirmPwd"),this.registered=$("#registered"),this.wrong_phoneNum=$(".username span"),this.wrong_pwd=$(".passwoed span"),this.wrong_confirmPwd=$(".repwd span"),this.arr=[!1,!1,!1],this.init()}return _createClass(r,[{key:"init",value:function(){var s=this;this.phoneNum.blur(function(){/^(13[0-9]|15[0123456789]|17[013678]|18[0-9]|14[57])[0-9]{8}$/.test(s.phoneNum.val())?(s.wrong_phoneNum.css("display","none"),s.arr[0]=!0):(s.wrong_phoneNum.css("display","block"),s.arr[0]=!1)}),this.pwd.blur(function(){/^\w{6}$/.test(s.pwd.val())?(s.arr[1]=!0,s.wrong_pwd.css("display","none")):(s.wrong_pwd.css("display","block"),s.arr[1]=!1)}),this.confirmPwd.blur(function(){s.confirmPwd.val()===s.pwd.val()?(s.wrong_confirmPwd.css("display","none"),s.arr[2]=!0):(s.wrong_confirmPwd.css("display","block"),s.arr[2]=!1)}),this.registered.click(function(){var r,n,e;-1===s.arr.indexOf(!1)?(s.registered.css("background","#5c89f2"),r=s.phoneNum.val(),n=s.pwd.val(),s.confirmPwd.val(),r in(e=coverStrToObj($.cookie("register")))?(s.wrong_user.html("该手机已被注册"),s.wrong_phoneNum.css("display","block")):(s.wrong_phoneNum.css("display","none"),e[r]=n,$.cookie("register",JSON.stringify(e),{expries:7,path:"/"}),s.username=s.pwd=s.rePwd="",location.href="../pages/login.html")):(s.wrong_phoneNum.css("display","block"),s.wrong_phoneNum.html("请输入手机号"),s.wrong_pwd.css("display","block"),s.wrong_pwd.html("请输入密码"),s.wrong_confirmPwd.css("display","block"),s.wrong_confirmPwd.html("请确认密码"))})}}]),r}();function coverStrToObj(r){return r?JSON.parse(r):{}}new Registered;